"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/load_results";
exports.ids = ["pages/api/load_results"];
exports.modules = {

/***/ "mysql2/promise":
/*!*********************************!*\
  !*** external "mysql2/promise" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("mysql2/promise");

/***/ }),

/***/ "(api)/./info/categories.js":
/*!****************************!*\
  !*** ./info/categories.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"categories\": () => (/* binding */ categories),\n/* harmony export */   \"categories_ukr\": () => (/* binding */ categories_ukr)\n/* harmony export */ });\nconst categories = [\n    \"empathy\",\n    \"stress_resistance\",\n    \"motivation\",\n    \"willpower\",\n    \"critical thinking\",\n    \"co-operation\",\n    \"activity\",\n    \"leadership\"\n];\nconst categories_ukr = {\n    \"empathy\": \"Емпатія\",\n    \"stress_resistance\": \"Стресостійкість\",\n    \"motivation\": \"Мотивація\",\n    \"willpower\": \"Воля\",\n    \"critical thinking\": \"Критичне мислення\",\n    \"co-operation\": \"Співпраця\",\n    \"activity\": \"Активність\",\n    \"leadership\": \"Лідерство\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZvL2NhdGVnb3JpZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxNQUFNQSxVQUFVLEdBQUc7SUFDdEIsU0FBUztJQUNULG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osV0FBVztJQUNYLG1CQUFtQjtJQUNuQixjQUFjO0lBQ2QsVUFBVTtJQUNWLFlBQVk7Q0FDZjtBQUVNLE1BQU1DLGNBQWMsR0FBRztJQUMxQixTQUFTLEVBQUUsU0FBUztJQUNwQixtQkFBbUIsRUFBRSxpQkFBaUI7SUFDdEMsWUFBWSxFQUFFLFdBQVc7SUFDekIsV0FBVyxFQUFFLE1BQU07SUFDbkIsbUJBQW1CLEVBQUUsbUJBQW1CO0lBQ3hDLGNBQWMsRUFBRSxXQUFXO0lBQzNCLFVBQVUsRUFBRSxZQUFZO0lBQ3hCLFlBQVksRUFBRSxXQUFXO0NBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdWF0X3NpdGUvLi9pbmZvL2NhdGVnb3JpZXMuanM/ODg3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY2F0ZWdvcmllcyA9IFtcbiAgICBcImVtcGF0aHlcIixcbiAgICBcInN0cmVzc19yZXNpc3RhbmNlXCIsXG4gICAgXCJtb3RpdmF0aW9uXCIsXG4gICAgXCJ3aWxscG93ZXJcIixcbiAgICBcImNyaXRpY2FsIHRoaW5raW5nXCIsXG4gICAgXCJjby1vcGVyYXRpb25cIixcbiAgICBcImFjdGl2aXR5XCIsXG4gICAgXCJsZWFkZXJzaGlwXCJcbl1cblxuZXhwb3J0IGNvbnN0IGNhdGVnb3JpZXNfdWtyID0ge1xuICAgIFwiZW1wYXRoeVwiOiBcItCV0LzQv9Cw0YLRltGPXCIsXG4gICAgXCJzdHJlc3NfcmVzaXN0YW5jZVwiOiBcItCh0YLRgNC10YHQvtGB0YLRltC50LrRltGB0YLRjFwiLFxuICAgIFwibW90aXZhdGlvblwiOiBcItCc0L7RgtC40LLQsNGG0ZbRj1wiLFxuICAgIFwid2lsbHBvd2VyXCI6IFwi0JLQvtC70Y9cIixcbiAgICBcImNyaXRpY2FsIHRoaW5raW5nXCI6IFwi0JrRgNC40YLQuNGH0L3QtSDQvNC40YHQu9C10L3QvdGPXCIsXG4gICAgXCJjby1vcGVyYXRpb25cIjogXCLQodC/0ZbQstC/0YDQsNGG0Y9cIixcbiAgICBcImFjdGl2aXR5XCI6IFwi0JDQutGC0LjQstC90ZbRgdGC0YxcIixcbiAgICBcImxlYWRlcnNoaXBcIjogXCLQm9GW0LTQtdGA0YHRgtCy0L5cIlxufSJdLCJuYW1lcyI6WyJjYXRlZ29yaWVzIiwiY2F0ZWdvcmllc191a3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./info/categories.js\n");

/***/ }),

/***/ "(api)/./pages/api/load_results.js":
/*!***********************************!*\
  !*** ./pages/api/load_results.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_mysql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/mysql */ \"(api)/./utils/mysql.js\");\n/* harmony import */ var _info_categories__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../info/categories */ \"(api)/./info/categories.js\");\n\n\nasync function handler(req, res) {\n    const answers = req.body.answers;\n    const pool = await (0,_utils_mysql__WEBPACK_IMPORTED_MODULE_0__.connect)();\n    if (answers == undefined) {\n        res.status(400).json({\n            error: \"No answers provided\"\n        });\n        return;\n    }\n    const summary = {};\n    for (const category of _info_categories__WEBPACK_IMPORTED_MODULE_1__.categories){\n        const answer = answers[category];\n        if (answer == undefined) {\n            continue;\n        }\n        summary[category] = 0;\n        let maximum_points = 0;\n        let current_points = 0;\n        if (answer.length == 0) {\n            continue;\n        }\n        for (const answer_ of answer){\n            const [rows, fields] = await pool.execute(\"SELECT answer FROM questions.questions WHERE idquestion = ?\", [\n                answer_.id\n            ]);\n            const row = rows[0];\n            if (row == undefined) {\n                continue;\n            }\n            maximum_points += Math.max(...Object.values(row.answer));\n            current_points += row.answer[answer_.answer];\n        }\n        summary[category] = current_points / maximum_points;\n        console.log(summary[category]);\n    }\n    console.log(summary);\n    res.status(200).json(summary);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbG9hZF9yZXN1bHRzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QztBQUNPO0FBR3BDLGVBQWVFLE9BQU8sQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDNUMsTUFBTUMsT0FBTyxHQUFHRixHQUFHLENBQUNHLElBQUksQ0FBQ0QsT0FBTztJQUNoQyxNQUFNRSxJQUFJLEdBQUcsTUFBTVAscURBQU8sRUFBRTtJQUU1QixJQUFJSyxPQUFPLElBQUlHLFNBQVMsRUFBRTtRQUN0QkosR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFQyxLQUFLLEVBQUUscUJBQXFCO1NBQUUsQ0FBQyxDQUFDO1FBQ3ZELE9BQU87SUFDWCxDQUFDO0lBRUQsTUFBTUMsT0FBTyxHQUFHLEVBQUU7SUFFbEIsS0FBSyxNQUFNQyxRQUFRLElBQUlaLHdEQUFVLENBQUU7UUFDL0IsTUFBTWEsTUFBTSxHQUFHVCxPQUFPLENBQUNRLFFBQVEsQ0FBQztRQUNoQyxJQUFJQyxNQUFNLElBQUlOLFNBQVMsRUFBRTtZQUNyQixTQUFTO1FBQ2IsQ0FBQztRQUVESSxPQUFPLENBQUNDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUV0QixJQUFJRSxjQUFjLEdBQUcsQ0FBQztRQUN0QixJQUFJQyxjQUFjLEdBQUcsQ0FBQztRQUV0QixJQUFJRixNQUFNLENBQUNHLE1BQU0sSUFBSSxDQUFDLEVBQUU7WUFDcEIsU0FBUztRQUNiLENBQUM7UUFFRCxLQUFLLE1BQU1DLE9BQU8sSUFBSUosTUFBTSxDQUFFO1lBQzFCLE1BQU0sQ0FBQ0ssSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNYixJQUFJLENBQUNjLE9BQU8sQ0FDckMsNkRBQTZELEVBQzdEO2dCQUFDSCxPQUFPLENBQUNJLEVBQUU7YUFBQyxDQUNmO1lBRUQsTUFBTUMsR0FBRyxHQUFHSixJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ25CLElBQUlJLEdBQUcsSUFBSWYsU0FBUyxFQUFFO2dCQUNsQixTQUFTO1lBQ2IsQ0FBQztZQUNETyxjQUFjLElBQUlTLElBQUksQ0FBQ0MsR0FBRyxJQUFJQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ0osR0FBRyxDQUFDVCxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3pERSxjQUFjLElBQUlPLEdBQUcsQ0FBQ1QsTUFBTSxDQUFDSSxPQUFPLENBQUNKLE1BQU0sQ0FBQyxDQUFDO1FBQ2pELENBQUM7UUFFREYsT0FBTyxDQUFDQyxRQUFRLENBQUMsR0FBR0csY0FBYyxHQUFHRCxjQUFjLENBQUM7UUFFcERhLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDakIsT0FBTyxDQUFDQyxRQUFRLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRURlLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDakIsT0FBTyxDQUFDLENBQUM7SUFJckJSLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNFLE9BQU8sQ0FBQyxDQUFDO0FBQ2xDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91YXRfc2l0ZS8uL3BhZ2VzL2FwaS9sb2FkX3Jlc3VsdHMuanM/NGNlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcIi4uLy4uL3V0aWxzL215c3FsXCI7XG5pbXBvcnQgeyBjYXRlZ29yaWVzIH0gZnJvbSBcIi4uLy4uL2luZm8vY2F0ZWdvcmllc1wiO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgICBjb25zdCBhbnN3ZXJzID0gcmVxLmJvZHkuYW5zd2VycztcbiAgICBjb25zdCBwb29sID0gYXdhaXQgY29ubmVjdCgpO1xuXG4gICAgaWYgKGFuc3dlcnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiTm8gYW5zd2VycyBwcm92aWRlZFwiIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3VtbWFyeSA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzKSB7XG4gICAgICAgIGNvbnN0IGFuc3dlciA9IGFuc3dlcnNbY2F0ZWdvcnldO1xuICAgICAgICBpZiAoYW5zd2VyID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzdW1tYXJ5W2NhdGVnb3J5XSA9IDA7XG5cbiAgICAgICAgbGV0IG1heGltdW1fcG9pbnRzID0gMDtcbiAgICAgICAgbGV0IGN1cnJlbnRfcG9pbnRzID0gMDtcblxuICAgICAgICBpZiAoYW5zd2VyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgYW5zd2VyXyBvZiBhbnN3ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgcG9vbC5leGVjdXRlKFxuICAgICAgICAgICAgICAgIFwiU0VMRUNUIGFuc3dlciBGUk9NIHF1ZXN0aW9ucy5xdWVzdGlvbnMgV0hFUkUgaWRxdWVzdGlvbiA9ID9cIixcbiAgICAgICAgICAgICAgICBbYW5zd2VyXy5pZF1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IHJvd3NbMF07XG4gICAgICAgICAgICBpZiAocm93ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF4aW11bV9wb2ludHMgKz0gTWF0aC5tYXgoLi4uT2JqZWN0LnZhbHVlcyhyb3cuYW5zd2VyKSk7XG4gICAgICAgICAgICBjdXJyZW50X3BvaW50cyArPSByb3cuYW5zd2VyW2Fuc3dlcl8uYW5zd2VyXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1bW1hcnlbY2F0ZWdvcnldID0gY3VycmVudF9wb2ludHMgLyBtYXhpbXVtX3BvaW50cztcblxuICAgICAgICBjb25zb2xlLmxvZyhzdW1tYXJ5W2NhdGVnb3J5XSlcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhzdW1tYXJ5KTtcblxuXG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihzdW1tYXJ5KTtcbn1cbiJdLCJuYW1lcyI6WyJjb25uZWN0IiwiY2F0ZWdvcmllcyIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJhbnN3ZXJzIiwiYm9keSIsInBvb2wiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzdW1tYXJ5IiwiY2F0ZWdvcnkiLCJhbnN3ZXIiLCJtYXhpbXVtX3BvaW50cyIsImN1cnJlbnRfcG9pbnRzIiwibGVuZ3RoIiwiYW5zd2VyXyIsInJvd3MiLCJmaWVsZHMiLCJleGVjdXRlIiwiaWQiLCJyb3ciLCJNYXRoIiwibWF4IiwiT2JqZWN0IiwidmFsdWVzIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/load_results.js\n");

/***/ }),

/***/ "(api)/./utils/mysql.js":
/*!************************!*\
  !*** ./utils/mysql.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connect\": () => (/* binding */ connect)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"mysql2/promise\");\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2_promise__WEBPACK_IMPORTED_MODULE_0__);\n// import { MYSQL_DATABASE, MYSQL_HOST, MYSQL_PASSWORD, MYSQL_USER } from '../info/env';\n\nconst MYSQL_DATABASE = \"questions\";\nconst MYSQL_HOST = \"database-1.cmdzkf13exnd.eu-north-1.rds.amazonaws.com\";\nconst MYSQL_PASSWORD = \"9NI034m9iolk3Irena\";\nconst MYSQL_USER = \"client\";\nlet globalPool = undefined;\nasync function connect() {\n    if (globalPool != undefined) {\n        return globalPool;\n    }\n    globalPool = await (0,mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool)({\n        host: MYSQL_HOST,\n        user: MYSQL_USER,\n        password: MYSQL_PASSWORD,\n        database: MYSQL_DATABASE,\n        connectionLimit: 20\n    });\n    return globalPool;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9teXNxbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSx3RkFBd0Y7QUFFNUM7QUFHNUMsTUFBTUMsY0FBYyxHQUFHLFdBQVc7QUFDbEMsTUFBTUMsVUFBVSxHQUFHLHNEQUFzRDtBQUN6RSxNQUFNQyxjQUFjLEdBQUcsb0JBQW9CO0FBQzNDLE1BQU1DLFVBQVUsR0FBRyxRQUFRO0FBRzNCLElBQUlDLFVBQVUsR0FBR0MsU0FBUztBQUVuQixlQUFlQyxPQUFPLEdBQUc7SUFFNUIsSUFBSUYsVUFBVSxJQUFJQyxTQUFTLEVBQUU7UUFDekIsT0FBT0QsVUFBVSxDQUFDO0lBQ3RCLENBQUM7SUFFREEsVUFBVSxHQUFHLE1BQU1MLDBEQUFVLENBQUM7UUFDMUJRLElBQUksRUFBRU4sVUFBVTtRQUNoQk8sSUFBSSxFQUFFTCxVQUFVO1FBQ2hCTSxRQUFRLEVBQUVQLGNBQWM7UUFDeEJRLFFBQVEsRUFBRVYsY0FBYztRQUN4QlcsZUFBZSxFQUFFLEVBQUU7S0FDdEIsQ0FBQyxDQUFDO0lBRUgsT0FBT1AsVUFBVSxDQUFDO0FBQ3RCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91YXRfc2l0ZS8uL3V0aWxzL215c3FsLmpzP2I1NDAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHsgTVlTUUxfREFUQUJBU0UsIE1ZU1FMX0hPU1QsIE1ZU1FMX1BBU1NXT1JELCBNWVNRTF9VU0VSIH0gZnJvbSAnLi4vaW5mby9lbnYnO1xuXG5pbXBvcnQgeyBjcmVhdGVQb29sIH0gZnJvbSAnbXlzcWwyL3Byb21pc2UnO1xuXG5cbmNvbnN0IE1ZU1FMX0RBVEFCQVNFID0gJ3F1ZXN0aW9ucyc7XG5jb25zdCBNWVNRTF9IT1NUID0gJ2RhdGFiYXNlLTEuY21kemtmMTNleG5kLmV1LW5vcnRoLTEucmRzLmFtYXpvbmF3cy5jb20nO1xuY29uc3QgTVlTUUxfUEFTU1dPUkQgPSAnOU5JMDM0bTlpb2xrM0lyZW5hJztcbmNvbnN0IE1ZU1FMX1VTRVIgPSAnY2xpZW50JztcblxuXG5sZXQgZ2xvYmFsUG9vbCA9IHVuZGVmaW5lZDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG5cbiAgICBpZiAoZ2xvYmFsUG9vbCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFBvb2w7XG4gICAgfVxuXG4gICAgZ2xvYmFsUG9vbCA9IGF3YWl0IGNyZWF0ZVBvb2woe1xuICAgICAgICBob3N0OiBNWVNRTF9IT1NULFxuICAgICAgICB1c2VyOiBNWVNRTF9VU0VSLFxuICAgICAgICBwYXNzd29yZDogTVlTUUxfUEFTU1dPUkQsXG4gICAgICAgIGRhdGFiYXNlOiBNWVNRTF9EQVRBQkFTRSxcbiAgICAgICAgY29ubmVjdGlvbkxpbWl0OiAyMCxcbiAgICB9KTtcblxuICAgIHJldHVybiBnbG9iYWxQb29sO1xufSJdLCJuYW1lcyI6WyJjcmVhdGVQb29sIiwiTVlTUUxfREFUQUJBU0UiLCJNWVNRTF9IT1NUIiwiTVlTUUxfUEFTU1dPUkQiLCJNWVNRTF9VU0VSIiwiZ2xvYmFsUG9vbCIsInVuZGVmaW5lZCIsImNvbm5lY3QiLCJob3N0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJjb25uZWN0aW9uTGltaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/mysql.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/load_results.js"));
module.exports = __webpack_exports__;

})();